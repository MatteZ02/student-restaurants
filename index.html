<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Feastly student restaurant map" />
    <link rel="icon" type="image/x-icon" href="/icons/favicon.png" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="apple-touch-icon" href="/img/logo.png" sizes="200x200" />
    <meta name="theme-color" content="#00ff9d" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link rel="stylesheet" href="main.css" />
    <script src="src/main.ts" type="module"></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <title>Feastly</title>
  </head>

  <body>
    <nav class="top-nav">
      <div class="nav-left">
        <span class="material-symbols-outlined" id="theme"> dark_mode </span>
      </div>
      <div class="nav-center">
        <img src="/img/logo.png" alt="feastly logo" />
      </div>
      <div class="nav-right">
        <h3 id="username" class="hidden">username</h3>
        <img alt="profile-picture" id="avatar" class="hidden" />
        <span class="material-symbols-outlined" id="login"> login </span>
        <span class="material-symbols-outlined hidden" id="logout">
          logout
        </span>
      </div>
    </nav>
    <nav class="side-nav">
      <span class="material-symbols-outlined hidden" id="side-nav-arrow">
        arrow_back
      </span>
      <h1>Restaurants</h1>
      <select name="filter" id="filter">
        <option value="none">All</option>
        <option value="sodexo">Sodexo</option>
        <option value="compass">Compass Group</option>
      </select>
      <div id="restaurantList"></div>
    </nav>

    <div id="map"></div>

    <dialog id="restaurantModal"></dialog>

    <dialog id="loginModal">
      <div id="loginError" class="hidden">
        <p>Invalid username or password</p>
      </div>
      <form id="loginForm" action="POST">
        <label for="usernamel">Username</label>
        <input type="text" name="username" id="usernamel" required />
        <label for="passwordl">Password</label>
        <input type="password" name="password" id="passwordl" required />
        <button type="submit">Login</button>
      </form>
      <h5 id="register">No account? Click here to register</h5>
      <button id="loginModalClose">Close</button>
    </dialog>

    <dialog id="registerModal">
      <div id="registerError" class="hidden">
        <p>Invalid username or password</p>
      </div>
      <form id="registerForm" action="POST">
        <label for="usernamer">Username</label>
        <input type="text" name="username" id="usernamer" required />
        <label for="emailr">Email</label>
        <input type="email" name="email" id="emailr" required />
        <label for="passwordr">Password</label>
        <input type="password" name="password" id="passwordr" required />
        <button type="submit">Register</button>
      </form>
      <button id="registerModalClose">Close</button>
    </dialog>

    <dialog id="userModal">
      <div id="updateError" class="hidden">
        <p>Invalid username or password</p>
      </div>
      <form id="userForm" action="POST">
        <label for="usernameu">Username</label>
        <input type="text" name="username" id="usernameu" required />
        <label for="emailu">Email</label>
        <input type="email" name="email" id="emailu" required />
        <label for="avataru">Avatar</label>
        <input
          type="file"
          ,
          name="avatar"
          id="avataru"
          accept="image/png, image/jpeg"
        />
        <button type="submit">Save</button>
      </form>
      <button id="userModalClose">Close</button>
    </dialog>
  </body>
</html>
